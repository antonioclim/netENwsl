<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 400" width="700" height="400">
  <title>Round-Robin Load Balancer Flow</title>
  <rect width="700" height="400" fill="#fafafa"/>
  <text x="350" y="30" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#333">Round-Robin Load Balancer — Request Flow</text>
  
  <!-- Client -->
  <rect x="40" y="150" width="100" height="100" rx="8" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="90" y="195" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1976d2">Client</text>
  <text x="90" y="215" text-anchor="middle" font-family="Arial" font-size="11" fill="#666">Requests</text>
  <text x="90" y="235" text-anchor="middle" font-family="Arial" font-size="10" fill="#999">1, 2, 3, 4...</text>
  
  <!-- Load Balancer -->
  <rect x="260" y="120" width="140" height="160" rx="8" fill="#fff3e0" stroke="#f57c00" stroke-width="2"/>
  <text x="330" y="150" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#f57c00">Load Balancer</text>
  <text x="330" y="175" text-anchor="middle" font-family="monospace" font-size="11" fill="#666">index = 0</text>
  <rect x="280" y="190" width="100" height="70" rx="4" fill="#fff" stroke="#ddd"/>
  <text x="330" y="212" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">backends = [</text>
  <text x="330" y="227" text-anchor="middle" font-family="monospace" font-size="10" fill="#4caf50">"app1", "app2"</text>
  <text x="330" y="242" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">]</text>
  <text x="330" y="257" text-anchor="middle" font-family="monospace" font-size="9" fill="#9e9e9e">next = (i+1) % 2</text>
  
  <!-- App1 -->
  <rect x="520" y="80" width="120" height="80" rx="8" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
  <text x="580" y="115" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4caf50">App1</text>
  <text x="580" y="140" text-anchor="middle" font-family="monospace" font-size="11" fill="#666">:8001</text>
  
  <!-- App2 -->
  <rect x="520" y="240" width="120" height="80" rx="8" fill="#fce4ec" stroke="#e91e63" stroke-width="2"/>
  <text x="580" y="275" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#e91e63">App2</text>
  <text x="580" y="300" text-anchor="middle" font-family="monospace" font-size="11" fill="#666">:8002</text>
  
  <!-- Arrows -->
  <line x1="140" y1="200" x2="260" y2="200" stroke="#1976d2" stroke-width="2"/>
  <path d="M 400 180 Q 450 140 520 120" fill="none" stroke="#4caf50" stroke-width="2"/>
  <path d="M 400 220 Q 450 260 520 280" fill="none" stroke="#e91e63" stroke-width="2"/>
  
  <!-- Labels -->
  <text x="460" y="130" font-family="Arial" font-size="10" fill="#4caf50" font-weight="bold">Req 1, 3, 5...</text>
  <text x="460" y="290" font-family="Arial" font-size="10" fill="#e91e63" font-weight="bold">Req 2, 4, 6...</text>
  
  <!-- Key insight -->
  <rect x="360" y="320" width="280" height="60" rx="5" fill="#e8f5e9" stroke="#4caf50"/>
  <text x="370" y="345" font-family="Arial" font-size="11" font-weight="bold" fill="#4caf50">✓ Key Insight:</text>
  <text x="370" y="365" font-family="Arial" font-size="10" fill="#333">Round-robin is NOT random! It alternates:</text>
  <text x="370" y="378" font-family="monospace" font-size="10" fill="#666">app1 → app2 → app1 → app2 → ...</text>
</svg>
