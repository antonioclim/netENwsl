<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 450" width="600" height="450">
  <title>TCP Three-Way Handshake</title>
  <rect width="600" height="450" fill="#fafafa"/>
  <text x="300" y="30" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#333">TCP Three-Way Handshake</text>
  
  <!-- Client -->
  <rect x="80" y="60" width="120" height="40" rx="5" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="140" y="85" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1976d2">Client</text>
  <line x1="140" y1="100" x2="140" y2="380" stroke="#1976d2" stroke-width="2" stroke-dasharray="5,3"/>
  
  <!-- Server -->
  <rect x="400" y="60" width="120" height="40" rx="5" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
  <text x="460" y="85" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4caf50">Server</text>
  <line x1="460" y1="100" x2="460" y2="380" stroke="#4caf50" stroke-width="2" stroke-dasharray="5,3"/>
  
  <!-- SYN -->
  <line x1="140" y1="140" x2="460" y2="180" stroke="#f57c00" stroke-width="2"/>
  <rect x="220" y="140" width="160" height="35" rx="3" fill="#fff3e0" stroke="#f57c00"/>
  <text x="300" y="155" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#f57c00">SYN</text>
  <text x="300" y="170" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">seq=100</text>
  <text x="50" y="165" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">①</text>
  
  <!-- SYN-ACK -->
  <line x1="460" y1="220" x2="140" y2="260" stroke="#9c27b0" stroke-width="2"/>
  <rect x="220" y="220" width="160" height="35" rx="3" fill="#f3e5f5" stroke="#9c27b0"/>
  <text x="300" y="235" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#9c27b0">SYN-ACK</text>
  <text x="300" y="250" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">seq=200, ack=101</text>
  <text x="550" y="240" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">②</text>
  
  <!-- ACK -->
  <line x1="140" y1="300" x2="460" y2="340" stroke="#2196f3" stroke-width="2"/>
  <rect x="220" y="300" width="160" height="35" rx="3" fill="#e3f2fd" stroke="#2196f3"/>
  <text x="300" y="315" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#2196f3">ACK</text>
  <text x="300" y="330" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">ack=201</text>
  <text x="50" y="320" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">③</text>
  
  <!-- Connection established -->
  <rect x="100" y="365" width="400" height="25" rx="3" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
  <text x="300" y="382" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#4caf50">✓ CONNECTION ESTABLISHED</text>
  
  <!-- Legend -->
  <rect x="30" y="400" width="540" height="40" rx="5" fill="#fff" stroke="#ddd"/>
  <text x="45" y="420" font-family="Arial" font-size="10" fill="#333">① Client initiates SYN</text>
  <text x="220" y="420" font-family="Arial" font-size="10" fill="#333">② Server responds SYN+ACK</text>
  <text x="410" y="420" font-family="Arial" font-size="10" fill="#333">③ Client confirms ACK</text>
</svg>
