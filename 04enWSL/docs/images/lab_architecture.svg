<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 350">
  <defs>
    <style>
      .windows { fill: #0078d4; stroke: #005a9e; stroke-width: 2; }
      .wsl { fill: #e95420; stroke: #c44117; stroke-width: 2; }
      .docker { fill: #2496ed; stroke: #1d76bb; stroke-width: 2; }
      .container { fill: #326ce5; stroke: #2557b8; stroke-width: 2; }
      .portainer { fill: #13bef9; stroke: #0e9cce; stroke-width: 2; }
      .network { fill: none; stroke: #27ae60; stroke-width: 2; stroke-dasharray: 5,3; }
      .label { font-family: sans-serif; font-size: 11px; fill: white; font-weight: bold; }
      .labelDark { font-family: sans-serif; font-size: 11px; fill: #2c3e50; }
      .port { font-family: monospace; font-size: 10px; fill: #2c3e50; }
      .title { font-family: sans-serif; font-size: 14px; font-weight: bold; fill: #2c3e50; }
      .arrow { stroke: #2c3e50; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .bidirectional { stroke: #27ae60; stroke-width: 2; fill: none; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="350" y="25" class="title" text-anchor="middle">Week 4 Lab Environment: WSL2 + Docker + Portainer</text>
  
  <!-- Windows Host -->
  <rect x="30" y="45" width="640" height="290" fill="#f0f0f0" stroke="#ccc" stroke-width="2" rx="10"/>
  <text x="55" y="70" class="labelDark" font-weight="bold">Windows 11 Host</text>
  
  <!-- Docker Desktop -->
  <rect x="50" y="85" width="180" height="60" class="docker" rx="5"/>
  <text x="140" y="115" class="label" text-anchor="middle">Docker Desktop</text>
  <text x="140" y="130" class="label" text-anchor="middle" font-size="9">for Windows</text>
  
  <!-- Wireshark -->
  <rect x="50" y="160" width="180" height="40" fill="#1679a7" stroke="#0f5c7a" stroke-width="2" rx="5"/>
  <text x="140" y="185" class="label" text-anchor="middle">Wireshark</text>
  
  <!-- Browser -->
  <rect x="50" y="215" width="180" height="40" fill="#4285f4" stroke="#3367d6" stroke-width="2" rx="5"/>
  <text x="140" y="240" class="label" text-anchor="middle">Browser (Portainer UI)</text>
  
  <!-- WSL2 -->
  <rect x="260" y="85" width="390" height="230" class="wsl" rx="8"/>
  <text x="280" y="110" class="label">WSL2 Ubuntu 22.04</text>
  
  <!-- Docker Engine inside WSL -->
  <rect x="280" y="125" width="350" height="170" class="docker" rx="5"/>
  <text x="300" y="150" class="label">Docker Engine</text>
  
  <!-- Containers -->
  <rect x="300" y="165" width="100" height="55" class="container" rx="4"/>
  <text x="350" y="185" class="label" text-anchor="middle" font-size="10">TEXT Server</text>
  <text x="350" y="200" class="port" text-anchor="middle" fill="white">TCP :5400</text>
  
  <rect x="410" y="165" width="100" height="55" class="container" rx="4"/>
  <text x="460" y="185" class="label" text-anchor="middle" font-size="10">BINARY Server</text>
  <text x="460" y="200" class="port" text-anchor="middle" fill="white">TCP :5401</text>
  
  <rect x="520" y="165" width="100" height="55" class="container" rx="4"/>
  <text x="570" y="185" class="label" text-anchor="middle" font-size="10">UDP Sensor</text>
  <text x="570" y="200" class="port" text-anchor="middle" fill="white">UDP :5402</text>
  
  <!-- Portainer -->
  <rect x="300" y="235" width="150" height="45" class="portainer" rx="4"/>
  <text x="375" y="255" class="label" text-anchor="middle" font-size="10">Portainer</text>
  <text x="375" y="270" class="port" text-anchor="middle" fill="white">HTTP :9000</text>
  
  <!-- Docker Network -->
  <rect x="295" y="160" width="335" height="130" class="network" rx="5"/>
  <text x="455" y="178" class="port" text-anchor="middle" fill="#27ae60">week4_net (172.28.0.0/16)</text>
  
  <!-- Connections -->
  <line x1="230" y1="115" x2="260" y2="115" class="arrow"/>
  <line x1="140" y1="200" x2="140" y2="215" class="arrow"/>
  <line x1="230" y1="235" x2="300" y2="257" class="arrow"/>
  
  <!-- Port forwarding note -->
  <text x="455" y="320" class="port" text-anchor="middle">localhost:5400-5402, localhost:9000 â†’ Docker containers</text>
</svg>
